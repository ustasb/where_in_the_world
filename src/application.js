// Generated by CoffeeScript 1.6.2
(function() {
  var LightBox, Quiz, WorldMap;

  WorldMap = (function() {
    var BACKGROUND_COLOR, SELECTED_REGION_COLOR;

    BACKGROUND_COLOR = '#2980B9';

    SELECTED_REGION_COLOR = '#2ECC71';

    function WorldMap(container_id) {
      this.el = $('#' + container_id);
    }

    WorldMap.prototype.createMap = function() {
      var _this = this;

      this.el.vectorMap({
        map: 'world_mill_en',
        backgroundColor: BACKGROUND_COLOR,
        regionStyle: {
          selected: {
            fill: SELECTED_REGION_COLOR
          }
        },
        onRegionClick: function(e, regionCode) {
          return _this.map.setSelectedRegions(regionCode);
        }
      });
      return this.map = this.el.vectorMap('get', 'mapObject');
    };

    return WorldMap;

  })();

  Quiz = (function() {
    function Quiz() {}

    return Quiz;

  })();

  LightBox = (function() {
    var backdrop;

    backdrop = $('<div class="light-box-bg"></div>');

    LightBox.showBackdrop = (function() {
      var added;

      added = false;
      return function() {
        if (added) {
          return backdrop.show();
        } else {
          $(document.body).append(backdrop);
          return added = true;
        }
      };
    })();

    LightBox.hideBackdrop = function() {
      return backdrop.hide();
    };

    function LightBox(container_id) {
      this.el = $('#' + container_id);
      this.centerInWindow();
      this.show();
      this.bindEvents();
    }

    LightBox.prototype.bindEvents = function() {
      var _this = this;

      return $(window).resize(function() {
        return _this.centerInWindow();
      });
    };

    LightBox.prototype.centerInWindow = function() {
      var $window;

      $window = $(window);
      return this.el.css({
        left: ($window.width() - this.el.width()) / 2,
        top: ($window.height() - this.el.height()) / 2
      });
    };

    LightBox.prototype.hide = function() {
      LightBox.hideBackdrop();
      return this.el.hide();
    };

    LightBox.prototype.show = function() {
      LightBox.showBackdrop();
      return this.el.show();
    };

    return LightBox;

  })();

  $(document).ready(function() {
    var lightBox, world;

    world = new WorldMap('world-map');
    world.createMap();
    return lightBox = new LightBox('menu');
  });

}).call(this);
